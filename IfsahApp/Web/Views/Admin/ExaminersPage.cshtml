@using Microsoft.AspNetCore.Antiforgery
@inject IAntiforgery Antiforgery

@{
    ViewData["Title"] = "Examiners";
    var tokens = Antiforgery.GetAndStoreTokens(Context);
}

<div class="card shadow-sm p-4" style="max-width:1100px;margin:auto;">
    <div class="d-flex align-items-center justify-content-between mb-3">
        <h3 class="mb-0">Examiners</h3>
        <div class="d-flex gap-2">
            <button id="btnReload" class="btn btn-outline-secondary btn-sm" type="button">Reload</button>

            <!-- âœ… This goes to Index page with role=Examiner -->
            <a asp-controller="Admin"
               asp-action="Index"
               asp-route-role="Examiner"
               class="btn btn-success btn-sm">
                Add as Examiner
            </a>
        </div>
    </div>

    <div class="table-responsive mt-3">
        <table class="table table-striped align-middle" id="examinersTable">
            <thead>
                <tr>
                    <th style="width:30%">Name</th>
                    <th style="width:25%">AD User</th>
                    <th style="width:30%">Email</th>
                    <th style="width:15%">Actions</th>
                </tr>
            </thead>
            <tbody id="examBody"></tbody>
        </table>
    </div>

    <div id="msgBox" class="alert mt-3 d-none" role="alert"></div>
</div>

<meta name="request-verification-token" content="@tokens.RequestToken" />

@section Scripts {
    <script src="~/js/examiners-page.js"></script>
}
